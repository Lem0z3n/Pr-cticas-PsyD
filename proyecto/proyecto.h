/*
 * proyecto.h
 *
 *  Created on: 10/01/2025
 *      Author: guill
 */

#ifndef PROYECTO_H_
#define PROYECTO_H_

#include <common_types.h>

/////////////////////////////////////////////////////////////////////////////
// CONFIGURACION
/////////////////////////////////////////////////////////////////////////////

#define MAXPLACES              (8)

/////////////////////////////////////////////////////////////////////////////
// Declaracion de tipos
/////////////////////////////////////////////////////////////////////////////

typedef struct
{
	uint8 id;
	boolean free;
	rtc_time_t deadline;
	uint16 licPlate;
} parking_t;

/////////////////////////////////////////////////////////////////////////////
// Declaracion de funciones
/////////////////////////////////////////////////////////////////////////////

void setup( void );
uint8 getMonthdays(uint8 month);
void updateDeadline(uint8 credit, rtc_time_t * deadline);
uint8 getLicPlate(uint16 * licPlate);

/////////////////////////////////////////////////////////////////////////////
// Declaracion de tareas
/////////////////////////////////////////////////////////////////////////////

void tsScanTask( void );
void kpScanTask( void );
void clockTask( void );
void coinsMoverTask( void );
void mainTask( void );
void ticketPrinterTask( void );
int8 selectorTask(void);


#endif /* PROYECTO_H_ */
